<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>yuH — Terminal Portfolio</title>
<link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;600&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#000;
    --panel:#071116;
    --text:#e6f7f2;
    --muted:#9ad7cf;
    --kw:#60d3ff;    /* keyword - blue */
    --str:#c699ff;   /* string - purple */
    --log:#7cff9d;   /* log - green */
    --note:#ff7b7b;  /* red/important */
    --coming:#ffdd57;/* coming soon accent */
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;background:var(--bg);font-family:'Fira Code', monospace;color:var(--text);-webkit-font-smoothing:antialiased}
  .wrap{max-width:1060px;margin:18px auto;padding:18px}
  .panel{
    background:linear-gradient(180deg,var(--panel),#041015);
    border-radius:12px;padding:18px;border:1px solid rgba(255,255,255,0.03);
    box-shadow:0 14px 40px rgba(0,0,0,0.6);
    min-height:68vh;display:flex;flex-direction:column;gap:12px;
  }
  .top{display:flex;gap:8px;align-items:center}
  .dots{display:flex;gap:8px}
  .dot{width:12px;height:12px;border-radius:999px}
  .dot.r{background:#ff5f56} .dot.y{background:#ffbd2e} .dot.g{background:#27c93f}
  .title{color:var(--muted);margin-left:8px;font-size:0.95rem}
  .out{flex:1;overflow:auto;padding:12px;border-radius:8px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent)}
  .line{white-space:pre-wrap;line-height:1.45;word-break:break-word;font-size:15px}
  .cursor{display:inline-block;width:10px;height:1.1em;background:var(--log);vertical-align:middle;margin-left:6px;animation:blink 1s steps(2,start) infinite}
  @keyframes blink{50%{opacity:0}}
  .kw{color:var(--kw)} .str{color:var(--str)} .log{color:var(--log)} .note{color:var(--note)} .def{color:var(--text)}
  .controls{display:flex;gap:12px;flex-wrap:wrap;align-items:center;justify-content:flex-start;padding-top:10px}
  .cmd{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted);padding:10px 14px;border-radius:8px;cursor:pointer;transition:all .18s;font-family:'Fira Code'}
  .cmd:hover{transform:translateY(-4px);border-color:rgba(255,255,255,0.12)}
  .side{display:flex;gap:14px;align-items:flex-start;flex-wrap:wrap;margin-top:8px}
  iframe.preview{width:560px;max-width:100%;height:320px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);box-shadow:0 10px 30px rgba(0,0,0,0.6)}
  .coming-box{
    min-width:160px;
    max-width:320px;
    border-radius:8px;
    padding:14px;
    background:linear-gradient(180deg,#07121a,#081821);
    border:1px dashed rgba(255,255,255,0.06);
    box-shadow:0 8px 30px rgba(0,0,0,0.5);
    display:flex;flex-direction:column;gap:8px;align-items:center;justify-content:center;
  }
  .coming-title{font-weight:700;color:var(--coming);letter-spacing:0.6px}
  .coming-blink{display:inline-block;padding:6px 10px;border-radius:6px;background:rgba(255,221,87,0.06);animation:blinkComing 1.2s linear infinite}
  @keyframes blinkComing{50%{opacity:0.25; transform:translateY(-2px)}}
  .coming-desc{color:var(--muted);font-size:13px;text-align:center}
  .btn-small{background:var(--log);color:#012;border:none;padding:8px 12px;border-radius:8px;cursor:pointer;font-weight:700}
  .muted{color:#7aaeb0;font-size:0.95rem}
  footer{color:#6fb7b3;text-align:center;margin-top:14px;font-size:0.95rem}
  .hidden{display:none}
  @media (max-width:880px){
    iframe.preview{height:260px}
    .coming-box{width:100%}
  }
  @media (max-width:600px){
    .wrap{padding:8px}
    iframe.preview{height:200px}
  }
</style>
</head>
<body>
  <div class="wrap">
    <div class="panel" role="region" aria-label="Terminal portfolio">
      <div class="top">
        <div class="dots"><div class="dot r"></div><div class="dot y"></div><div class="dot g"></div></div>
        <div class="title">~/portfolio — Trương Anh Hoàng Huy</div>
      </div>

      <div class="out" id="out" aria-live="polite" tabindex="0"></div>

      <div class="controls">
        <button class="cmd" id="btn1">▶ Lựa chọn 1 (Xem mẫu có sẵn)</button>
        <button class="cmd" id="btn2">✚ Lựa chọn 2 (Mẫu theo yêu cầu)</button>
        <div style="flex:1"></div>
        <div class="muted">© Trương Anh Hoàng Huy 2025</div>
      </div>

      <!-- area where preview + coming soon will be injected -->
      <div id="previewArea" class="side" aria-hidden="true" style="margin-top:10px"></div>
    </div>

    <footer style="margin-top:12px">Thiết kế phong cách terminal — responsive</footer>
  </div>

  <!-- typing sound (will play only after user interaction) -->
  <audio id="typeSound" src="https://actions.google.com/sounds/v1/foley/keyboard_single_keypress.ogg" preload="auto"></audio>

<script>
/* ---------- utility ---------- */
function sleep(ms){ return new Promise(r=>setTimeout(r,ms)); }
function makeLine(){ const d=document.createElement('div'); d.className='line'; return d; }

/* ---------- terminal intro lines (token segments) ---------- */
const introLines = [
  [{t:'Initializing portfolio', c:'kw'},{t:'...', c:'def'}],
  [{t:'Loading modules', c:'kw'},{t:': [HTML] [CSS] [JS]', c:'def'}],
  [{t:'Name', c:'kw'},{t:': ', c:'def'},{t:'Trương Anh Hoàng Huy', c:'str'}],
  [{t:'Role', c:'kw'},{t:': ', c:'def'},{t:'Web Developer', c:'str'}],
  [{t:'About', c:'kw'},{t:': ', c:'def'},{t:'Mình là Huy — lập trình viên trẻ, tạo web mượt, đẹp, & cá nhân hoá.', c:'log'}],
  [{t:'Ready', c:'kw'},{t:': ', c:'def'},{t:'Chọn 1 để xem mẫu có sẵn, 2 để tới Facebook.', c:'log'}]
];

const out = document.getElementById('out');
const typeSound = document.getElementById('typeSound');
let soundAllowed = false;

// enable sound after first interaction
document.addEventListener('click',()=>{ soundAllowed=true; }, {once:true});

/* type segments like code tokens */
function typeLineSegments(segments, speedBase=16){
  return new Promise(resolve=>{
    const line = makeLine();
    out.appendChild(line);
    const cursor = document.createElement('span'); cursor.className='cursor'; line.appendChild(cursor);

    let segIndex=0, charIndex=0;
    function step(){
      if (segIndex >= segments.length){
        if (cursor.parentNode) cursor.remove();
        out.scrollTo({ top: out.scrollHeight, behavior: 'smooth' });
        return resolve();
      }
      const seg = segments[segIndex];
      if (!line._spans) line._spans=[];
      if (!line._spans[segIndex]){ const s=document.createElement('span'); s.className = seg.c || 'def'; line.insertBefore(s,cursor); line._spans[segIndex]=s; }
      const span = line._spans[segIndex];
      if (charIndex < seg.t.length){
        span.textContent += seg.t[charIndex++];
        // typing sound
        if (soundAllowed){
          try { typeSound.currentTime = 0; typeSound.play().catch(()=>{}); } catch(e){}
        }
        let dt = speedBase + Math.random()*18;
        if (seg.t[charIndex-1] === ' ') dt += 8;
        setTimeout(step, dt);
        out.scrollTo({ top: out.scrollHeight, behavior: 'smooth' });
      } else {
        segIndex++; charIndex=0; setTimeout(step, 60);
      }
    }
    step();
  });
}

async function runIntro(){
  for (let i=0;i<introLines.length;i++){
    await typeLineSegments(introLines[i], 16);
    await sleep(180 + Math.random()*240);
  }
  const prompt = makeLine();
  prompt.innerHTML = '<span class="kw">~$</span> <span class="log">ready</span> <span class="cursor" aria-hidden="true"></span>';
  out.appendChild(prompt);
  out.scrollTo({ top: out.scrollHeight, behavior: 'smooth' });
}
runIntro();

/* ---------- controls ---------- */
const btn1 = document.getElementById('btn1');
const btn2 = document.getElementById('btn2');
const previewArea = document.getElementById('previewArea');

const sampleUrl = 'https://bemeonhomituot5-oss.github.io/Ch-c-c-Oanh-v-c-c-b-n-n-xin-p-c-a-l-p-9-5-ng-y-20-10-vui-v-nha-/';
let currentContainer = null;

btn1.addEventListener('click', async ()=>{
  // log
  await typeLineSegments([{t:'> ', c:'def'},{t:'Opening sample preview...', c:'log'}], 10);

  // clear previous preview area
  previewArea.innerHTML = '';
  const container = document.createElement('div');
  container.style.display = 'flex';
  container.style.gap = '12px';
  container.style.flexWrap = 'wrap';
  container.style.alignItems = 'flex-start';
  container.style.width = '100%';

  // iframe
  const frame = document.createElement('iframe');
  frame.className = 'preview';
  frame.src = sampleUrl;
  frame.title = 'Sample preview';
  frame.style.flex = '1 1 560px';

  // coming soon box (to the right on desktop; below on mobile)
  const coming = document.createElement('div');
  coming.className = 'coming-box';
  coming.innerHTML = `
    <div class="coming-title">COMING SOON</div>
    <div class="coming-blink" aria-hidden="true">●</div>
    <div class="coming-desc">Mẫu mới sẽ được cập nhật sớm. Hãy quay lại nhé!</div>
    <button class="btn-small" id="notifyBtn">Thông báo tôi</button>
  `;

  container.appendChild(frame);
  container.appendChild(coming);
  previewArea.appendChild(container);
  previewArea.setAttribute('aria-hidden','false');
  currentContainer = container;
  out.scrollTo({ top: out.scrollHeight, behavior: 'smooth' });

  // Wait for iframe load or fallback timeout
  let loaded=false;
  frame.addEventListener('load', ()=>{ loaded=true; showNextBtn(container); });
  setTimeout(()=>{ if(!loaded) showNextBtn(container); }, 6000);

  // optional notify button (just demo)
  coming.querySelector('#notifyBtn').addEventListener('click', async ()=>{
    await typeLineSegments([{t:'> ', c:'def'},{t:'You will be notified when coming soon is ready.', c:'log'}],12);
    coming.querySelector('#notifyBtn').textContent = 'Đã ghi nhận';
    coming.querySelector('#notifyBtn').disabled = true;
  });
});

btn2.addEventListener('click', ()=>{
  // open FB directly (choice 2)
  window.open('https://www.facebook.com/huy.tim.cuc.tay/', '_blank');
});

/* show Next button after preview */
function showNextBtn(container){
  if (container._nextShown) return;
  container._nextShown = true;
  const btn = document.createElement('button');
  btn.className = 'btn-small';
  btn.textContent = 'Tiếp theo →';
  btn.style.alignSelf = 'center';
  btn.onclick = async ()=>{
    await typeLineSegments([{t:'> ', c:'def'},{t:'Proceeding to pricing...', c:'log'}], 12);
    showPricePanel();
  };
  container.appendChild(btn);
  out.scrollTo({ top: out.scrollHeight, behavior: 'smooth' });
}

/* price panel displayed in terminal output style */
async function showPricePanel(){
  const header = makeLine();
  header.style.paddingTop = '8px';
  header.innerHTML = '<span class="kw">/* Pricing & Contact */</span>';
  out.appendChild(header);
  out.scrollTo({ top: out.scrollHeight, behavior: 'smooth' });

  await typeLineSegments([{t:'> ', c:'def'},{t:'Price', c:'kw'},{t:': ', c:'def'},{t:'100000', c:'note'},{t:' đ', c:'def'}], 18);
  await sleep(120);
  await typeLineSegments([{t:'> ', c:'def'},{t:'Contact', c:'kw'},{t:': ', c:'def'},{t:'Facebook', c:'str'},{t:' → ', c:'def'},{t:'https://www.facebook.com/huy.tim.cuc.tay/', c:'str'}], 16);

  const summary = document.createElement('div');
  summary.className = 'line';
  summary.style.marginTop = '8px';
  summary.innerHTML = '<span class="def">Open contact: </span><a href="https://www.facebook.com/huy.tim.cuc.tay/" target="_blank" style="color:var(--kw);text-decoration:none">Facebook — liên hệ ngay</a>';
  out.appendChild(summary);
  out.scrollTo({ top: out.scrollHeight, behavior: 'smooth' });
}

/* accessibility: click panel to focus output */
document.querySelector('.panel').addEventListener('click', ()=> out.focus());
</script>

  <script>
  document.getElementById("choice2").addEventListener("click", () => {
    window.open("https://www.facebook.com/huy.tim.cuc.tay/", "_blank");
  });
</script>


</body>
</html>
